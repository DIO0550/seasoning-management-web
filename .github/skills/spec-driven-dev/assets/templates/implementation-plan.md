# {目的を簡潔に記述}

{背景・なぜこの変更が必要か、1-2文}

## ユーザーレビューが必要な点

> **IMPORTANT** / **NOTE**
> - {確認してほしい判断事項}
> - {破壊的変更の有無}
> - {設計上のトレードオフ}

## システム図

### 状態マシン / フロー図

```
{状態遷移やデータフローをASCII図で記述}
{すべてのパス・分岐・エッジケースを可視化}

例:
    入力
      │
      ▼
┌─────────────┐
│  STATE_A    │─── 条件1 ───▶ STATE_B
└─────────────┘                  │
      │                          │
   条件2                      条件3
      │                          │
      ▼                          ▼
┌─────────────┐           ┌─────────────┐
│  STATE_C    │           │  STATE_D    │
│ (処理内容)  │           │ (処理内容)  │
└─────────────┘           └─────────────┘
```

### データフロー

```
{コンポーネント間のデータの流れを記述}

例:
User Input
    ↓
Component A
    ↓
├─ Service B (API呼び出し)
│      ↓
│  External API
│      ↓
└─ State Store
    ↓
UI Update
```

## 変更案

### {カテゴリ1: プロジェクト構造 / UI / ロジック / etc.}

#### [NEW] `{ファイルパス}`

{このファイルで何をするか}

- **Props**: {該当する場合}
- **スタイリング**: {該当する場合}
- **ロジック**: {該当する場合}

#### [MODIFY] `{ファイルパス}`

{変更内容}

- {変更点1}
- {変更点2}

#### [DELETE] `{ファイルパス}`

{削除理由}

### {カテゴリ2}

...

## 検証計画

### 自動テスト

```bash
# テストコマンド
{実行するコマンド}
```

- {確認内容1}
- {確認内容2}

### 手動検証

1. {具体的な確認手順1}
2. {具体的な確認手順2}
3. {具体的な確認手順3}

---

<!--
使用例:

# Ranking Page にブロックボタンを実装

ニコニコのランキングページでユーザーをブロックする機能を追加します。

## ユーザーレビューが必要な点

> **NOTE**
> - 破壊的変更はありません。これは新しい機能です。
> - ボタンのスタイルは既存のUIに合わせています。

## システム図

### 状態マシン / フロー図

```
                    ページ読み込み
                         │
                         ▼
                 ┌───────────────┐
                 │     IDLE      │
                 └───────────────┘
                         │
              MutationObserver検出
                         │
                         ▼
                 ┌───────────────┐
                 │  DETECTING    │◀─────────────┐
                 │ (ユーザー要素) │               │
                 └───────────────┘               │
                         │                       │
            ┌────────────┴────────────┐          │
            ▼                         ▼          │
    ユーザー要素あり           要素なし          │
            │                         │          │
            ▼                         └──────────┘
    ┌───────────────┐                 (継続監視)
    │ BUTTON_INJECT │
    │ (ボタン注入)   │
    └───────────────┘
            │
     ボタンクリック
            │
            ▼
    ┌───────────────┐
    │   BLOCKING    │
    │ (Storage更新) │
    └───────────────┘
            │
            ▼
    ┌───────────────┐
    │   BLOCKED     │
    │ (UI非表示化)  │
    └───────────────┘
```

### データフロー

```
DOM (ランキングページ)
    ↓
MutationObserver
    ↓
ranking.ts (コンテンツスクリプト)
    ↓
├─ BlockButton コンポーネント生成
│      ↓
│  ユーザークリック
│      ↓
└─ storage.ts
    ↓
chrome.storage.local (ブロックリスト)
    ↓
UI更新 (動画非表示)
```

## 変更案

### Content Scripts

#### [NEW] `src/content/ranking.ts`

ランキングページ用のコンテンツスクリプト。

- **ロジック**: DOM監視でユーザー要素を検出し、ブロックボタンを注入
- **依存**: `src/storage.ts` のブロックリスト操作

#### [MODIFY] `manifest.json`

コンテンツスクリプトの登録を追加。

- content_scriptsにranking.tsを追加
- matchesに `*://www.nicovideo.jp/ranking/*` を追加

### UI

#### [NEW] `src/components/BlockButton.ts`

汎用ブロックボタンコンポーネント。

- **Props**: userId: string, onBlock: () => void
- **スタイリング**: 既存のニコニコUIに合わせたグレーボタン

## 検証計画

### 手動検証

1. ランキングページ https://www.nicovideo.jp/ranking を開く
2. 各ユーザー名の横にブロックボタンが表示されることを確認
3. ボタンをクリックしてユーザーがブロックされることを確認
4. ページリロード後、ブロックしたユーザーの動画が非表示になることを確認
-->
